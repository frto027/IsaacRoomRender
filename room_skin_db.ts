const RoomBackgroundDatabase = {
    "01_basement": [
        "Rooms_background_shape1_room_01_basement.png",
        "Rooms_background_shape2_room_01_basement.png",
        "Rooms_background_shape3_room_01_basement.png",
        "Rooms_background_shape4_room_01_basement.png",
        "Rooms_background_shape5_room_01_basement.png",
        "Rooms_background_shape6_room_01_basement.png",
        "Rooms_background_shape7_room_01_basement.png",
        "Rooms_background_shape8_room_01_basement.png",
        "Rooms_background_shape9_room_01_basement.png",
        "Rooms_background_shape10_room_01_basement.png",
        "Rooms_background_shape11_room_01_basement.png",
        "Rooms_background_shape12_room_01_basement.png"
    ],
    "02_cellar": [
        "Rooms_background_shape1_room_02_cellar.png",
        "Rooms_background_shape2_room_02_cellar.png",
        "Rooms_background_shape3_room_02_cellar.png",
        "Rooms_background_shape4_room_02_cellar.png",
        "Rooms_background_shape5_room_02_cellar.png",
        "Rooms_background_shape6_room_02_cellar.png",
        "Rooms_background_shape7_room_02_cellar.png",
        "Rooms_background_shape8_room_02_cellar.png",
        "Rooms_background_shape9_room_02_cellar.png",
        "Rooms_background_shape10_room_02_cellar.png",
        "Rooms_background_shape11_room_02_cellar.png",
        "Rooms_background_shape12_room_02_cellar.png",
    ],
    "03_burning_basement": [
        "Rooms_background_shape1_room_03_burning_basement.png",
        "Rooms_background_shape2_room_03_burning_basement.png",
        "Rooms_background_shape3_room_03_burning_basement.png",
        "Rooms_background_shape4_room_03_burning_basement.png",
        "Rooms_background_shape5_room_03_burning_basement.png",
        "Rooms_background_shape6_room_03_burning_basement.png",
        "Rooms_background_shape7_room_03_burning_basement.png",
        "Rooms_background_shape8_room_03_burning_basement.png",
        "Rooms_background_shape9_room_03_burning_basement.png",
        "Rooms_background_shape10_room_03_burning_basement.png",
        "Rooms_background_shape11_room_03_burning_basement.png",
        "Rooms_background_shape12_room_03_burning_basement.png",
    ],
    "04_caves":
        ["Rooms_background_shape1_room_04_caves.png",
            "Rooms_background_shape2_room_04_caves.png",
            "Rooms_background_shape3_room_04_caves.png",
            "Rooms_background_shape4_room_04_caves.png",
            "Rooms_background_shape5_room_04_caves.png",
            "Rooms_background_shape6_room_04_caves.png",
            "Rooms_background_shape7_room_04_caves.png",
            "Rooms_background_shape8_room_04_caves.png",
            "Rooms_background_shape9_room_04_caves.png",
            "Rooms_background_shape10_room_04_caves.png",
            "Rooms_background_shape11_room_04_caves.png",
            "Rooms_background_shape12_room_04_caves.png",
        ],
    "05_catacombs":
        ["Rooms_background_shape1_room_05_catacombs.png",
            "Rooms_background_shape2_room_05_catacombs.png",
            "Rooms_background_shape3_room_05_catacombs.png",
            "Rooms_background_shape4_room_05_catacombs.png",
            "Rooms_background_shape5_room_05_catacombs.png",
            "Rooms_background_shape6_room_05_catacombs.png",
            "Rooms_background_shape7_room_05_catacombs.png",
            "Rooms_background_shape8_room_05_catacombs.png",
            "Rooms_background_shape9_room_05_catacombs.png",
            "Rooms_background_shape10_room_05_catacombs.png",
            "Rooms_background_shape11_room_05_catacombs.png",
            "Rooms_background_shape12_room_05_catacombs.png",

        ], "07_depths":
        ["Rooms_background_shape1_room_07_depths.png",
            "Rooms_background_shape2_room_07_depths.png",
            "Rooms_background_shape3_room_07_depths.png",
            "Rooms_background_shape4_room_07_depths.png",
            "Rooms_background_shape5_room_07_depths.png",
            "Rooms_background_shape6_room_07_depths.png",
            "Rooms_background_shape7_room_07_depths.png",
            "Rooms_background_shape8_room_07_depths.png",
            "Rooms_background_shape9_room_07_depths.png",
            "Rooms_background_shape10_room_07_depths.png",
            "Rooms_background_shape11_room_07_depths.png",
            "Rooms_background_shape12_room_07_depths.png",
        ],
    "08_necropolis":
        ["Rooms_background_shape1_room_08_necropolis.png",
            "Rooms_background_shape2_room_08_necropolis.png",
            "Rooms_background_shape3_room_08_necropolis.png",
            "Rooms_background_shape4_room_08_necropolis.png",
            "Rooms_background_shape5_room_08_necropolis.png",
            "Rooms_background_shape6_room_08_necropolis.png",
            "Rooms_background_shape7_room_08_necropolis.png",
            "Rooms_background_shape8_room_08_necropolis.png",
            "Rooms_background_shape9_room_08_necropolis.png",
            "Rooms_background_shape10_room_08_necropolis.png",
            "Rooms_background_shape11_room_08_necropolis.png",
            "Rooms_background_shape12_room_08_necropolis.png",
        ],

    "09_dank_depths":
        ["Rooms_background_shape1_room_09_dank_depths.png",
            "Rooms_background_shape2_room_09_dank_depths.png",
            "Rooms_background_shape3_room_09_dank_depths.png",
            "Rooms_background_shape4_room_09_dank_depths.png",
            "Rooms_background_shape5_room_09_dank_depths.png",
            "Rooms_background_shape6_room_09_dank_depths.png",
            "Rooms_background_shape7_room_09_dank_depths.png",
            "Rooms_background_shape8_room_09_dank_depths.png",
            "Rooms_background_shape9_room_09_dank_depths.png",
            "Rooms_background_shape10_room_09_dank_depths.png",
            "Rooms_background_shape11_room_09_dank_depths.png",
            "Rooms_background_shape12_room_09_dank_depths.png",
        ],

    "10_womb":
        ["Rooms_background_shape1_room_10_womb.png",
            "Rooms_background_shape2_room_10_womb.png",
            "Rooms_background_shape3_room_10_womb.png",
            "Rooms_background_shape4_room_10_womb.png",
            "Rooms_background_shape5_room_10_womb.png",
            "Rooms_background_shape6_room_10_womb.png",
            "Rooms_background_shape7_room_10_womb.png",
            "Rooms_background_shape8_room_10_womb.png",
            "Rooms_background_shape9_room_10_womb.png",
            "Rooms_background_shape10_room_10_womb.png",
            "Rooms_background_shape11_room_10_womb.png",
            "Rooms_background_shape12_room_10_womb.png",

        ], "11_utero":
        ["Rooms_background_shape1_room_11_utero.png",
            "Rooms_background_shape2_room_11_utero.png",
            "Rooms_background_shape3_room_11_utero.png",
            "Rooms_background_shape4_room_11_utero.png",
            "Rooms_background_shape5_room_11_utero.png",
            "Rooms_background_shape6_room_11_utero.png",
            "Rooms_background_shape7_room_11_utero.png",
            "Rooms_background_shape8_room_11_utero.png",
            "Rooms_background_shape9_room_11_utero.png",
            "Rooms_background_shape10_room_11_utero.png",
            "Rooms_background_shape11_room_11_utero.png",
            "Rooms_background_shape12_room_11_utero.png",
        ],
    "12_scarred_womb":
        ["Rooms_background_shape1_room_12_scarred_womb.png",
            "Rooms_background_shape2_room_12_scarred_womb.png",
            "Rooms_background_shape3_room_12_scarred_womb.png",
            "Rooms_background_shape4_room_12_scarred_womb.png",
            "Rooms_background_shape5_room_12_scarred_womb.png",
            "Rooms_background_shape6_room_12_scarred_womb.png",
            "Rooms_background_shape7_room_12_scarred_womb.png",
            "Rooms_background_shape8_room_12_scarred_womb.png",
            "Rooms_background_shape9_room_12_scarred_womb.png",
            "Rooms_background_shape10_room_12_scarred_womb.png",
            "Rooms_background_shape11_room_12_scarred_womb.png",
            "Rooms_background_shape12_room_12_scarred_womb.png",
        ],
    "13_blue_womb":
        ["Rooms_background_shape1_room_13_blue_womb.png",
            "Rooms_background_shape2_room_13_blue_womb.png",
            "Rooms_background_shape3_room_13_blue_womb.png",
            "Rooms_background_shape4_room_13_blue_womb.png",
            "Rooms_background_shape5_room_13_blue_womb.png",
            "Rooms_background_shape6_room_13_blue_womb.png",
            "Rooms_background_shape7_room_13_blue_womb.png",
            "Rooms_background_shape8_room_13_blue_womb.png",
            "Rooms_background_shape9_room_13_blue_womb.png",
            "Rooms_background_shape10_room_13_blue_womb.png",
            "Rooms_background_shape11_room_13_blue_womb.png",
            "Rooms_background_shape12_room_13_blue_womb.png",
        ],
    "14_sheol":
        ["Rooms_background_shape1_room_14_sheol.png",
            "Rooms_background_shape2_room_14_sheol.png",
            "Rooms_background_shape3_room_14_sheol.png",
            "Rooms_background_shape4_room_14_sheol.png",
            "Rooms_background_shape5_room_14_sheol.png",
            "Rooms_background_shape6_room_14_sheol.png",
            "Rooms_background_shape7_room_14_sheol.png",
            "Rooms_background_shape8_room_14_sheol.png",
            "Rooms_background_shape9_room_14_sheol.png",
            "Rooms_background_shape10_room_14_sheol.png",
            "Rooms_background_shape11_room_14_sheol.png",
            "Rooms_background_shape12_room_14_sheol.png",
        ],
    "17_chest":
        ["Rooms_background_shape1_room_17_chest.png",
            "Rooms_background_shape2_room_17_chest.png",
            "Rooms_background_shape3_room_17_chest.png",
            "Rooms_background_shape4_room_17_chest.png",
            "Rooms_background_shape5_room_17_chest.png",
            "Rooms_background_shape6_room_17_chest.png",
            "Rooms_background_shape7_room_17_chest.png",
            "Rooms_background_shape8_room_17_chest.png",
            "Rooms_background_shape9_room_17_chest.png",
            "Rooms_background_shape10_room_17_chest.png",
            "Rooms_background_shape11_room_17_chest.png",
            "Rooms_background_shape12_room_17_chest.png",
        ],
    "15_cathedral":
        [
            undefined, undefined, undefined, undefined,
            "Rooms_background_shape5_room_15_cathedral.png",
            undefined, undefined,
            "Rooms_background_shape8_room_15_cathedral.png"
        ],
    "06_flooded_caves":
        [
            undefined, undefined, undefined, undefined,
            "Rooms_background_shape5_room_06_flooded_caves.png",
            undefined, undefined,
            "Rooms_background_shape8_room_06_flooded_caves.png"
        ],
    "16_dark_room":
        [
            undefined, undefined, undefined, undefined,
            "Rooms_background_shape5_room_16_dark_room.png",
            undefined, undefined,
            "Rooms_background_shape8_room_16_dark_room.png"
        ],
}

const FileNameToBackgroundMap = {
    __proto__: null,
    "00.special rooms.stb": "00_special_rooms",
    "01.basement.stb": "01_basement",
    "02.cellar.stb": "02_cellar",
    "03.burning basement.stb": "03_burning_basement",
    "04.caves.stb": "04_caves",
    "05.catacombs.stb": "05_catacombs",
    "06.flooded caves.stb": "06_flooded_caves",
    "07.depths.stb": "07_depths",
    "08.necropolis.stb": "08_necropolis",
    "09.dank depths.stb": "09_dank_depths",
    "10.womb.stb": "10_womb",
    "11.utero.stb": "11_utero",
    "12.scarred womb.stb": "12_scarred_womb",
    "13.blue womb.stb": "13_blue_womb",
    "14.sheol.stb": "14_sheol",
    "15.cathedral.stb": "15_cathedral",
    "16.dark room.stb": "16_dark_room",
    "17.chest.stb": "17_chest",
    "26.the void.stb": "26_the_void",
    "27.downpour.stb": "27_downpour",
    "28.dross.stb": "28_dross",
    "29.mines.stb": "29_mines",
    "30.ashpit.stb": "30_ashpit",
    "31.mausoleum.stb": "31_mausoleum",
    "32.gehenna.stb": "32_gehenna",
    "33.corpse.stb": "33_corpse",
    "34.mortis.stb": "34_mortis",
    "35.home.stb": "35_home",
    "36.backwards.stb": "36_backwards",
    "greed/00.special rooms.stb": "greed_00_special_rooms",
    "greed/01.basement.stb": "greed_01_basement",
    "greed/02.cellar.stb": "greed_02_cellar",
    "greed/03.burning basement.stb": "greed_03_burning_basement",
    "greed/04.caves.stb": "greed_04_caves",
    "greed/05.catacombs.stb": "greed_05_catacombs",
    "greed/06.flooded caves.stb": "greed_06_flooded_caves",
    "greed/07.depths.stb": "greed_07_depths",
    "greed/08.necropolis.stb": "greed_08_necropolis",
    "greed/09.dank depths.stb": "greed_09_dank_depths",
    "greed/10.womb.stb": "greed_10_womb",
    "greed/11.utero.stb": "greed_11_utero",
    "greed/12.scarred womb.stb": "greed_12_scarred_womb",
    "greed/14.sheol.stb": "greed_14_sheol",
    "greed/24.the shop.stb": "greed_24_the_shop",
    "greed/25.ultra greed.stb": "greed_25_ultra_greed",
    "greed/27.downpour.stb": "greed_27_downpour",
    "greed/28.dross.stb": "greed_28_dross",
    "greed/29.mines.stb": "greed_29_mines",
    "greed/30.ashpit.stb": "greed_30_ashpit",
    "greed/31.mausoleum.stb": "greed_31_mausoleum",
    "greed/32.gehenna.stb": "greed_32_gehenna",
    "greed/33.corpse.stb": "greed_33_corpse",
    "greed/34.mortis.stb": "greed_34_mortis",

}

class RoomSkin {
    static doors = {
        __proto__: null, "01.basement.stb": "door_01_normaldoor.png", "02.cellar.stb": "door_12_cellardoor.png",
        "03.burning basement.stb": "door_01_burningbasement.png", "04.caves.stb": "door_01_normaldoor.png",
        "05.catacombs.stb": "door_01_normaldoor.png", "06.flooded caves.stb": "door_27_drownedcaves.png",
        "07.depths.stb": "door_14_depthsdoor.png", "08.necropolis.stb": "door_14_depthsdoor.png",
        "09.dank depths.stb": "door_14_depthsdoor.png", "10.womb.stb": "door_25_wombdoor.png",
        "11.utero.stb": "door_25_wombdoor.png", "12.scarred womb.stb": "door_28_scarredroomdoor.png",
        "13.blue womb.stb": "door_01_bluewombdoor.png", "14.sheol.stb": "door_19_sheoldoor.png",
        "15.cathedral.stb": "door_22_cathedraldoor.png", "16.dark room.stb": "door_21_darkroomdoor.png",
        "17.chest.stb": "door_23_chestdoor.png", "24.the shop.stb": "door_13_librarydoor_0.png",
        "25.ultra greed.stb": "door_13_librarydoor_0.png", "27.downpour.stb": "door_14_depthsdoor.png",
        "28.dross.stb": "door_14_depthsdoor.png", "36.backwards.stb": "door_01_normaldoor.png",
        "30.ashpit.stb": "door_19_sheoldoor.png", "29.mines.stb": "door_01_minesdoor.png",
        "31.mausoleum.stb": "door_01_mausoleumdoor.png",
        "32.gehenna.stb": "door_01_gehennadoor.png", "33.corpse.stb": "door_01_corpsedoor.png",
        "35.home.stb": null

    }

    static backgrounds = {
        __proto__: null,
        "01.basement.stb": "01_basement.png", "02.cellar.stb": "02_cellar.png",
        "03.burning basement.stb": "13_the burning basement.png",
        "04.caves.stb": "03_caves.png", "05.catacombs.stb": "04_catacombs.png",
        "06.flooded caves.stb": "14_the drowned caves.png", "07.depths.stb": "05_depths.png",
        "08.necropolis.stb": "06_necropolis.png", "09.dank depths.stb": "15_the dank depths.png",
        "10.womb.stb": "07_the womb.png", "11.utero.stb": "08_utero.png",
        "12.scarred womb.stb": "16_the scarred womb.png", "13.blue womb.stb":
            "18_blue womb.png", "14.sheol.stb": "09_sheol.png", "15.cathedral.stb": "10_cathedral.png",
        "16.dark room.stb": "12_darkroom.png", "17.chest.stb": "11_chest.png",
        "24.the shop.stb": "0b_shop.png", "25.ultra greed.stb": "0b_shop.png",
        "27.downpour.stb": "01x_downpour.png", "28.dross.stb": "02x_dross.png",
        "29.mines.stb": "03x_mines.png", "30.ashpit.stb": "04x_ashpit.png",
        "31.mausoleum.stb": "05x_mausoleum.png", "32.gehenna.stb": "06x_gehenna.png",
        "33.corpse.stb": "07x_corpse.png", "35.home.stb": "0fx_hallway.png",
        "36.backwards.stb": "01_basement.png"
    }


    static dlc3_stbs = [
        "29.mines.stb",
        "31.mausoleum.stb",
        "32.gehenna.stb", "33.corpse.stb",
        "35.home.stb"
    ]

    getBackgroundUrl(roomJson: RoomData): { file: string, transform?: string } {

        if (roomJson.type == 24) {
            if (roomJson.shape == 1)
                return { file: "Anm2_resources-dlc3_gfx_backdrop_planetarium.png", transform: "scale(2) translate(84px, 46px)" }
            if (roomJson.shape == 2)
                return { file: "Anm2_resources-dlc3_gfx_backdrop_planetarium_ih.png", transform: "scale(2) translate(84px, 72px)" }
            if (roomJson.shape == 3)
                return { file: "Anm2_resources-dlc3_gfx_backdrop_planetarium_iv.png", transform: "scale(2) translate(136px, 46px)" }
        }

        let default_background = [
            "Rooms_background_shape1_room_01_basement.png",
            "Rooms_background_shape2_room_01_basement.png",
            "Rooms_background_shape3_room_01_basement.png",
            "Rooms_background_shape4_room_01_basement.png",
            "Rooms_background_shape5_room_01_basement.png",
            "Rooms_background_shape6_room_01_basement.png",
            "Rooms_background_shape7_room_01_basement.png",
            "Rooms_background_shape8_room_01_basement.png",
            "Rooms_background_shape9_room_01_basement.png",
            "Rooms_background_shape10_room_01_basement.png",
            "Rooms_background_shape11_room_01_basement.png",
            "Rooms_background_shape12_room_01_basement.png",
        ]

        let background_name = FileNameToBackgroundMap[roomJson._file]
        if (background_name) {
            let background_array = RoomBackgroundDatabase[background_name]
            if (background_array) {
                let background_img = background_array[roomJson.shape - 1]
                if (background_img)
                    return { file: background_img }
            }
        }

        return { file: default_background[roomJson.shape - 1] || "" }
    }
    //not used
    getBackgroundSpriteUrl(roomJson: RoomData) {
        switch (roomJson.type) {
            case EnumRoomType.ROOM_LIBRARY:
                return "Anm2_resources_gfx_backdrop_0a_library.png"
            case EnumRoomType.ROOM_SHOP:
                return "Anm2_resources_gfx_backdrop_0b_shop.png"
            case EnumRoomType.ROOM_ISAACS:
                return "Anm2_resources_gfx_backdrop_0c_isaacsroom.png"
            case EnumRoomType.ROOM_BARREN:
                return "Anm2_resources_gfx_backdrop_0d_barrenroom.png"
            case EnumRoomType.ROOM_ARCADE:
                return "Anm2_resources_gfx_backdrop_0e_arcade.png"
            case EnumRoomType.ROOM_DICE:
                return "Anm2_resources_gfx_backdrop_0e_diceroom.png"
            case EnumRoomType.ROOM_SECRET:
            case EnumRoomType.ROOM_SUPERSECRET:
                        return "Anm2_resources_gfx_backdrop_0f_secretroom.png"
            case EnumRoomType.ROOM_SACRIFICE:
                return "Anm2_resources_gfx_backdrop_0g_sacrificeroom.png"
            case EnumRoomType.ROOM_SECRET_EXIT:
                return 'Anm2_resources-dlc3_gfx_backdrop_0ax_downpour_entrance.png'
            case EnumRoomType.ROOM_ULTRASECRET:
                return 'Anm2_resources-dlc3_gfx_backdrop_0fx_hallway.png'
            case EnumRoomType.ROOM_CURSE:
            case EnumRoomType.ROOM_CHALLENGE:
            case EnumRoomType.ROOM_DEVIL:
            case EnumRoomType.ROOM_BOSSRUSH:
            case EnumRoomType.ROOM_BLACK_MARKET:
                return "Anm2_resources_gfx_backdrop_09_sheol.png"
            case EnumRoomType.ROOM_ANGEL:
                return "Anm2_resources_gfx_backdrop_10_cathedral.png"
            case EnumRoomType.ROOM_CHEST:
                return "Anm2_resources_gfx_backdrop_11_chest.png"
                case EnumRoomType.ROOM_DICE:
                    return "Anm2_resources_gfx_backdrop_11_chest.png"
                }

        let index = roomJson._file.toLowerCase()
        let split = index.indexOf("/")
        if (split >= 0)
            index = index.substring(split + 1)

        if (RoomSkin.backgrounds[index]) {
            if (RoomSkin.dlc3_stbs.indexOf(index) >= 0) {
                return "Anm2_resources-dlc3_gfx_backdrop_" + RoomSkin.backgrounds[index]
            }
            return "Anm2_resources_gfx_backdrop_" + RoomSkin.backgrounds[index]
        }
        return "Anm2_resources_gfx_backdrop_01_basement.png"
    }

    getDoorUrl(roomJson: RoomData) {
        switch (roomJson.type) {
            case EnumRoomType.ROOM_PLANETARIUM:
                return "Anm2_resources-dlc3_gfx_grid_door_00x_planetariumdoor.png"
            case EnumRoomType.ROOM_SECRET_EXIT:
                return "Anm2_resources-dlc3_gfx_grid_door_01_corpsedoor.png"
            case EnumRoomType.ROOM_TREASURE:
                return 'Anm2_resources_gfx_grid_door_02_treasureroomdoor.png'
            case EnumRoomType.ROOM_CHALLENGE:
                return 'Anm2_resources_gfx_grid_door_03_ambushroomdoor.png'
            case EnumRoomType.ROOM_CURSE:
                return 'Anm2_resources_gfx_grid_door_04_selfsacrificeroomdoor.png'
            case EnumRoomType.ROOM_ARCADE:
                return 'Anm2_resources_gfx_grid_door_05_arcaderoomdoor.png'
            case EnumRoomType.ROOM_DEVIL:
                return 'Anm2_resources_gfx_grid_door_07_devilroomdoor.png'
            case EnumRoomType.ROOM_ANGEL:
                return 'Anm2_resources_gfx_grid_door_07_holyroomdoor.png'
            // case EnumRoomType.ROOM_DUNGEON:
            //     return 'Anm2_resources_gfx_grid_door_09_bossambushroomdoor.png'
            case EnumRoomType.ROOM_LIBRARY:
                return 'Anm2_resources_gfx_grid_door_13_librarydoor.png'
            case EnumRoomType.ROOM_BOSS:
                return 'Anm2_resources_gfx_grid_door_10_bossroomdoor.png'
            case EnumRoomType.ROOM_SECRET:
            case EnumRoomType.ROOM_SUPERSECRET:
                return 'Anm2_resources_gfx_grid_door_08_holeinwall.png'
            case EnumRoomType.ROOM_SACRIFICE:
                return 'Anm2_resources_gfx_grid_door_00_sacrificeroomdoor.png'
            case EnumRoomType.ROOM_CHEST:
                return 'Anm2_resources_gfx_grid_door_02b_chestroomdoor.png'
            case EnumRoomType.ROOM_DICE:
                return 'Anm2_resources_gfx_grid_door_00_diceroomdoor.png'
            }
        let index = roomJson._file.toLowerCase()
        let split = index.indexOf("/")
        if (split >= 0)
            index = index.substring(split + 1)

        if (RoomSkin.doors[index]) {
            if (RoomSkin.dlc3_stbs.indexOf(index) >= 0) {
                return "Anm2_resources-dlc3_gfx_grid_" + RoomSkin.doors[index]
            }
            return "Anm2_resources_gfx_grid_" + RoomSkin.doors[index]
        }
        return "Anm2_resources_gfx_grid_door_01_normaldoor.png"
    }
}
